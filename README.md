# xinguanAnalyzeSystem
Esri开发大赛的作品，前端+后端C#服务查询数据库，实现基本的数据可视化和地图美化

关键技术：
1地图服务的使用
利用Arc.GSDesktop软件建立文件或个人地理数据库后，矢量化中国省级及市级地图，通过Arc.GlS Server发布相应地图、要素服务。在网页中通过URL访问发布的服务以访问地图服务，完成查询、修改、增添等地理处理操作。
2多尺度时空分析
建立中国省级、市级图层，在不同的空间、时间尺度下，对符合查询要求的要素进行不同形式的可视化：在省级空间尺度时采用分级统计图法和地点符号法相结合的形式绘制地图，市级空间尺度下采用分级统计图法和定位图表法绘制的地图；时间尺度为单日时间采用静态地图的方式展现查询结果，尺度为时间段时为用户提供静态和动态地图两种形式展现查询结果。
3服务器与客户端交互
通过XMLHttpRequest对象实现客户端与服务端的交互及数据交换。客户通过XMLHttpRequest对象调用服务端的服务并传递参数，获取返回的结果后进行图层绘制展示查询结果。
4 echarts与arcgis js结合
市级尺度地图中定位图表使用了echarts图表，实现了echarts图表与arcgis图层结合。单日时间尺度及时间段时间尺度，侧栏中采用不同的echarts图表种类对查询结果进行直观可视化。

作品亮点：
1.	舆情时空分布可视化：系统将网络舆情与现实地理位置结合起来，实现专题舆情走势、信息源分布、舆论观点聚类的可视化呈现，
这有助于用户进一步分析舆情的时空分布特征，深入挖掘网络舆情与地理空间的关联性，更好地掌握社会舆情动态。
2.	情感倾向分析：情感分析模块利用百度自然语言处理实现对新闻文本和微博数据的情感信息抽取和极性分类，将得到的结果从地域、时间和情感倾向性三个维度进行分析统计，
通过仪表盘、折线图、分层设色图和等级符号图等多种形式展示疫情期间舆情正负向情感的区域性聚集状况及其时空变化特征。
3.	城市关注度分析：城市关注度模块用渐变动画线将武汉市和各省份进行关联，
在实现舆情路径分析的同时通过饼状图辅助展示各省对发生在武汉市的新闻报道情况从而得出疫情期间其他地区新闻媒体对武汉的关注度及其变化趋势。
4.	舆情信息的智能爬取与挖掘：利用python爬虫技术批量获取新闻信息和微博数据，实现舆情信息的智能采集和清洗过滤，最后得到的有效数据将自动存入数据库等待调用。
5.	词云提取热点话题：系统以武汉市微博数据为基础生成词云图，用户通过词云图可以在短时间内直观地了解到武汉市网民讨论的Top100高频词汇和微博热门话题变化情况。
6.	时间区间任意设置：用户在新闻分析和微博分析板块均可以实现对时间点和时间段的任意选择设置，系统将通过时间滑块实现连续时间段内舆情的动态演变可视化，这极大地增加了用户的自主操作性，有助于用户选择自己感兴趣的时间区间进行深入了解。

新闻分析功能
新闻关键词查询
1.用户通过选择新闻发生地并输入关键词即可获得对应地区的新闻中该关键词被报导的情况。系统用分层设色图直观展示相关报导占比整体情况，
用饼状图或折线图辅助展示相关报导及不相关报导数量对比；放大地图，用户还可以通过柱状图更详细地了解到该区域各地级市与该关键词相关的新闻报导条数。
此外用户可以设置任意时间区间，系统将通过时间滑块动态展示相应时间内关键词被关注情况的变化趋势。
2.用户可选择展示包含某关键词的具体新闻内容，点击新闻列表中的新闻标题即可进入原新闻网站浏览相关新闻。
城市关注度分析
1.该模块用其他地区发射至武汉市的渐变动画线建立起区域之间的关联路径，路径颜色越深表示城市关注度越大，
通过饼状图辅助展示各省对发生在武汉市的新闻报道情况从而得出疫情期间各新闻媒体对武汉的关注度及其变化趋势。
新闻情感倾向分析
1.用户通过输入区域并选择时间可以获得显示该地区正负向新闻报道总体情况的分层设色图，系统通过仪表盘直观展示正面报道具体占比；
放大地图后，用户可以定位到某一地级市了解该地区新闻报导具体情况，结果用饼状图及柱状图加以展示。
同样地，若用户选择具体时间段，系统将时间滑块动态展示相应时间区间内正负向新闻报道变化趋势。

微博分析功能
热词展示
1.系统可根据武汉市一月份产生的微博数据生成具有武汉市轮廓的词云图。用户通过词云图可以清楚地看到出现频率较高的关键词，
从而更加直观地了解到武汉封城前后武汉市民的关注焦点及其转移情况。
微博情感倾向分析
1.对武汉市一月份微博数据进行情感分析，通过仪表盘或折线图向用户直观展示积极情绪和消极情绪占比及其变化趋势。
此外，用等级符号图将数据可视化请对其进行时空展示，放大地图可显示聚类效果并展示具体微博数量，继续放大至最小单位的聚类点可以看到具体微博内容及其情感类型。

数据库设计：
本系统使用SQL Server 2017创建数据库，主要存储微博和新闻数据。按照日期管理微博数据，把同一日发布的微博动态存储在一张表中，
表中含有微博动态发布时的经纬度坐标、微博动态文本及文本情感分析结果等字段。同时按照日期和地点分别管理新闻数据，把同一日报道的新闻存储在同一张表中，
把新闻发生地相同的新闻存储在一张表中，表中含有新闻报导网站、新闻发生时间，新闻发生地的经纬度坐标以及原文链接等字段，便于网页端的快速查询检索。
